<div class="offcanvas offcanvas-bottom round-top modal-fullscreen  event-show-offcanvas" id="event-<%= event.id %>">
  <div class="offcanvas-body small">
    <div class="event-show-card">
      <div style="background-image: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2)), url(<%= cl_image_path( event.image.attached? ? event.image.key : "") %>)" class="parent-div event-show-card-main-picture">
        <div class="offcanvas-img p-4">
          <%= image_tag "#{event.category.sport.downcase}.png", class: , width: "100px", height: "100px" %>
          <h4 class="card-title bold "><%= event.name %></h4>
        </div>
      </div>

      <div class="container px-4 py-4 space-between-divs">

        <div class="d-flex justify-content-between align-items-center ">
          <p class="card-text"><strong>Participants:</strong> <%= event.current_participants_count %>/ <%= event.max_player %></p>
          <% unless event.participations.count < event.max_player %>
            <p class="des">Cet événement a déjà atteint le nombre maximum de participants.</p>
          <% end %>
          <div class="d-flex align-items-center">
            <% event.users.each do |user| %>
              <% if user.avatar.attached? %>
                <%= cl_image_tag user.avatar.key, width: 45, height: 45, style: "border-radius: 50%"  %>
              <% else %>
                <%= cl_image_tag "user_3.png", width: 45, height: 45, style: "border-radius: 50%"  %>
              <% end %>
            <% end %>
          </div>
        </div>

        <div>
          <p class="card-text" ><%= event.description %></p>
        </div>


        <div class="card-event-content">
          <i class="fa-regular fa-calendar"></i><p><%= event.start_at.strftime("%A %B %e @%I:%M %p") %></p>
          <i class="fa-regular fa-clock"></i><p><%= event.duration %></p>
          <i class="fa-solid fa-location-dot"></i><p><span><%= event.adress.strip %></span></p>
        </div>


        <%= link_to 'Join', participate_event_path(event), method: :post, class: 'join-cta flex-grow' %>
      </div>
    </div>
  </div>
</div>
